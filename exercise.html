<!DOCTYPE html>

<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="author" content="zogodo">
    <meta name="description" content="我们之所以奋斗, 不是为了改变世界, 而是不让世界改变我们">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <title>果冻のBlog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/googleapis.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>
<body ng-app="myApp" ng-controller="myCtrl">
    <section class="page-header">
        <h1 class="project-name">
            <span>第 {{count}} 组　</span>
            <span>{{countdown}}</span>
        </h1>
        <h2 class="project-tagline">{{status}}</h2>
    </section>

    <section class="main-content">
        <h2>配置</h2>
        <ul>
            <li>　　组数: <input type="number"></li>
            <li>每组秒数: <input type="number"></li>
            <li>每组休息: <input type="number"></li>
            <li><button>重新开始</button>　<button>暂停</button></li>
        </ul>
        <footer class="site-footer">
                <span class="site-footer-credits">
                    Copyright © 2019
                    <a href="https://zogodo.github.io">果冻のBlog</a>.
                    Generated by
                    <a target="_blank" href="https://pages.github.com">Github Pages</a>.</span>
            </footer>
    </section>
</body>
<script src="js/angular.min.js"></script>
<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope, $http, $interval) {
        var totalCount = 3;
        var perCountSec = 6;
        var perRestSec = 4;
        var isRest = false;

        $scope.count = 1;
        $scope.countdown = perCountSec;
        $scope.status = "正在运动...";
        var stop = $interval(function() {
            $scope.countdown--;
            if ($scope.countdown >= 0) {
                return;
            }
            if (isRest) {
                $scope.count++;
                $scope.countdown = perCountSec;
                $scope.status = "正在运动...";
                isRest = false;
            } else {
                if ($scope.count >= totalCount) {
                    $scope.status = "运动结束.";
                    $interval.cancel(stop);
                    return;
                }
                $scope.countdown = perRestSec;
                $scope.status = "正在休息...";
                isRest = true;
            }
        }, 1000);
    });
</script>
</html>
